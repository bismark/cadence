{
  "id": "bd9e9448",
  "title": "Add support for images in bundles",
  "tags": [
    "compiler",
    "player",
    "feature",
    "wishlist"
  ],
  "status": "open",
  "created_at": "2026-02-01T07:13:59.921Z"
}

## Goal
Support images (illustrations, diagrams, cover art) in compiled bundles.

## Compiler Changes
- Extract images from EPUB during compilation
- Store in bundle (e.g., `images/` directory)
- Track image positions in page layout data
- Handle various formats (JPEG, PNG, SVG, WebP)
- Consider resizing/optimizing for target device

## Bundle Format Changes
- Add `images/` directory
- Extend Page schema with image references and positions:
  ```json
  {
    "images": [
      { "src": "images/fig1.png", "x": 72, "y": 200, "width": 300, "height": 200 }
    ]
  }
  ```

## Player Changes
- Load and cache images from bundle
- Render images on Canvas alongside text
- Handle image sizing and aspect ratio
- Consider memory management for large images on e-ink

## Considerations
- E-ink display: grayscale conversion? dithering?
- Memory constraints on weak devices
- SVG rendering (vector vs rasterize at compile time)
- Alt text for accessibility
