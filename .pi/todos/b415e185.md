{
  "id": "b415e185",
  "title": "Create parakeet-mlx transcription adapter",
  "tags": [
    "stt",
    "parakeet",
    "integration"
  ],
  "status": "closed",
  "created_at": "2026-02-01T07:24:53.800Z"
}

# Create parakeet-mlx transcription adapter - DONE

Created `compiler/src/align/parakeet.ts`:

## API

```typescript
// Single file
const transcription = await transcribe('audio.mp3');

// Multiple files (for chaptered audiobooks)
const transcription = await transcribeMultiple([
  'chapter1.mp3',
  'chapter2.mp3',
]);
```

## How it works

1. Calls `parakeet` CLI with `--output-format json --highlight-words`
2. Parses JSON output:
   ```json
   {
     "text": "Full transcript...",
     "sentences": [{
       "text": "Sentence.",
       "tokens": [{"text": "word", "start": 1.0, "end": 1.5}]
     }]
   }
   ```
3. Converts to our `Transcription` format with character offsets

## Options

- `parakeetPath` - Custom CLI path (default: 'parakeet')
- `chunkDuration` - For long audio (default: 120s)
- `overlapDuration` - Overlap between chunks (default: 15s)

## Output

```typescript
type Transcription = {
  transcript: string;
  wordTimeline: Array<{
    text: string;
    startTime: number;
    endTime: number;
    startOffsetUtf16: number;
    endOffsetUtf16: number;
    audiofile: string;
  }>;
};
```
