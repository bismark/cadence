{
  "id": "3dd7dc27",
  "title": "Fix player audio playback to jump to tapped section's position",
  "tags": [
    "player",
    "audio",
    "bug"
  ],
  "status": "closed",
  "created_at": "2026-02-01T04:41:07.200Z"
}

## Issue
When a user taps on a section in the player, the audio playback should properly jump to that section's playback position.

## Root Cause
The original code only had a single `clickable` modifier on the entire page that toggled play/pause. There was no tap detection to identify which span was tapped.

## Solution
1. **PageRenderer.kt**: Added `pointerInput` modifier with `detectTapGestures` to detect tap position
   - Converts tap coordinates to content coordinates (subtracting margins)
   - Searches `page.spanRects` to find which span rectangle was tapped
   - Calls `onSpanTap(spanId)` if a span was tapped, `onBackgroundTap()` otherwise

2. **PlayerScreen.kt**: Updated to use new PageRenderer callbacks
   - `onSpanTap`: Looks up span by ID, loads audio file if different, seeks to `clipBeginMs`, updates active span for visual feedback, and starts playing
   - `onBackgroundTap`: Toggles play/pause (preserves original behavior for tapping outside spans)

## Files Modified
- `player/app/src/main/java/com/cadence/player/ui/PageRenderer.kt`
- `player/app/src/main/java/com/cadence/player/ui/PlayerScreen.kt`

## Tasks
- [x] Investigate current tap-to-seek behavior
- [x] Ensure span timing data is correctly used to calculate seek position
- [x] Verify AudioPlayer.seekTo() is being called with correct position
- [ ] Test on device to confirm fix (needs gradle wrapper to build)
