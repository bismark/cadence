{
  "id": "08359385",
  "title": "Add bundleId to meta.json using dc:identifier with fallback",
  "tags": [
    "compiler",
    "player",
    "enhancement"
  ],
  "status": "closed",
  "created_at": "2026-02-01T06:20:01.544Z"
}

## Done

Added stable `bundleId` to replace path hashCode for position persistence.

### Changes

**Compiler:**
- `compiler/src/epub/opf.ts`: Extract `dc:identifier` from OPF metadata
- `compiler/src/types.ts`: Add `identifier` to OPFPackage, `bundleId` to BundleMeta
- `compiler/src/index.ts`: Generate bundleId from dc:identifier or SHA256 hash fallback

**Player:**
- `player/.../data/Bundle.kt`: Add optional `bundleId` field to BundleMeta
- `player/.../ui/PlayerScreen.kt`: Use `bundleId` with path hash fallback

**Docs:**
- `docs/bundle-format.md`: Document bundleId field and generation logic

### Example Output
```json
{
  "bundleId": "com.github.epub-testsuite.epub30-test-0320",
  ...
}
```
